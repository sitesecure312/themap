{"version":3,"file":"ngx-countdown.umd.js","sources":["../ts/src/app/modules/count-down/count-down.module.ts","../ts/src/app/modules/count-down/count-down.component.ts","../ts/src/app/modules/services/count-down.service.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { CountDownComponent } from './count-down.component';\nimport { CountDownService } from '../services/count-down.service';\nexport class CountDownModule { static decorators: DecoratorInvocation[] = [\n{ type: NgModule, args: [{\n  imports: [\n    CommonModule\n  ],\n  declarations: [CountDownComponent],\n  exports: [\n    CountDownComponent\n  ],\n  providers: [CountDownService]\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction CountDownModule_tsickle_Closure_declarations() {\n/** @type {?} */\nCountDownModule.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nCountDownModule.ctorParameters;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import { Component, OnInit , Input, Output, EventEmitter} from '@angular/core';\nimport { CountDownService, ICountdownOptions, ICountdownData } from '../services/count-down.service';\nexport class CountDownComponent implements OnInit {\nprivate format: string;\nprivate finishTime: number;\nprivate timer: any;\nprivate theme: string;\nprivate countdown: ICountdownData;\nprivate date: string = \" - \";\n   time: number;\n   onStart = new EventEmitter<string>();\n   onComplete = new EventEmitter<string>();\n   object: any;\n\t singleFormat : string;\n/**\n * @param {?} _countDownService\n */\nconstructor(private _countDownService: CountDownService) {}\n/**\n * @return {?}\n */\nngOnInit() {\n    this.startCountDown();\n  }\n/**\n * @param {?} data\n * @return {?}\n */\nisFunction(data: any) {\n    return typeof data === \"function\";\n  }\n/**\n * @return {?}\n */\nstartCountDown() {\n    let /** @type {?} */ countdownOptions: ICountdownOptions;\n    countdownOptions = this._countDownService.getdefaultCountDownOptions();\n    this.countdown = {\n      timeInterval: this.time,\n      object:     this.object,\n      format:     this.singleFormat || countdownOptions.format,\n      theme:      countdownOptions.theme + '-countdown-timer',\n      onStart:    countdownOptions.onStart && this.isFunction(countdownOptions.onStart) ? countdownOptions.onStart : null,\n      onComplete: countdownOptions.onComplete && this.isFunction(countdownOptions.onComplete) ? countdownOptions.onComplete : null\n    };\n    this.onStart.emit(JSON.stringify(this.countdown));\n    if (countdownOptions.onStart && this.isFunction(countdownOptions.onStart)) {\n      countdownOptions.onStart.call(this, this.countdown);\n    }\n    this.finishTime = this.countdown.timeInterval;\n    var /** @type {?} */ that = this;\n    this.timer = setInterval(function() {\n      if (that.finishTime == 0) {\n        if (countdownOptions.onComplete && that.isFunction(countdownOptions.onComplete)) {\n          countdownOptions.onComplete.call(that, that.countdown);\n        }\n        that.onComplete.emit(that.countdown.toString());\n        clearInterval(that.timer);\n      }\n      else {\n        that.finishTime = that.finishTime - 1;\n        that.date = that._countDownService.dhms(that.finishTime, that.countdown.format);\n      }\n    }, 1000)\n  }\n\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  selector: 'app-count-down',\n  template: `\n    <div [ngClass]=\"countdown.theme\">   <!--countdown.theme -->\n      <span class=\"timer\">{{date}}</span>\n    </div>\n  `,\n  styles: [`\n    .default-countdown-timer{\n      border: 1px solid #ddd;\n      color: #3c763d;\n      background-color: transparent;\n      padding: 10px 15px;\n      margin-bottom: 20px;\n      border-radius: 4px;\n      display: inline-block;\n    }\n    .bootstrap-countdown-timer {\n      color: #3c763d;\n      background-color: #dff0d8;\n      border-color: #d6e9c6;\n      padding: 10px 15px;\n      margin-bottom: 20px;\n      border: 1px solid #d6e9c6;\n      border-radius: 4px;\n      display: inline-block;\n    }\n    .material-countdown-timer{\n      color: #3c763d;\n      background-color: #dff0d8;\n      border-color: #d6e9c6;\n      padding: 10px 15px;\n      margin-bottom: 20px;\n      border: 1px solid transparent;\n      border-radius: 0px;\n      display: inline-block;\n    }\n  `]\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: CountDownService, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'time': [{ type: Input },],\n'onStart': [{ type: Output },],\n'onComplete': [{ type: Output },],\n'object': [{ type: Input },],\n'singleFormat': [{ type: Input },],\n};\n}\n\nfunction CountDownComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nCountDownComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nCountDownComponent.ctorParameters;\n/** @type {?} */\nCountDownComponent.propDecorators;\n/** @type {?} */\nCountDownComponent.prototype.format;\n/** @type {?} */\nCountDownComponent.prototype.finishTime;\n/** @type {?} */\nCountDownComponent.prototype.timer;\n/** @type {?} */\nCountDownComponent.prototype.theme;\n/** @type {?} */\nCountDownComponent.prototype.countdown;\n/** @type {?} */\nCountDownComponent.prototype.date;\n/** @type {?} */\nCountDownComponent.prototype.time;\n/** @type {?} */\nCountDownComponent.prototype.onStart;\n/** @type {?} */\nCountDownComponent.prototype.onComplete;\n/** @type {?} */\nCountDownComponent.prototype.object;\n/** @type {?} */\nCountDownComponent.prototype.singleFormat;\n/** @type {?} */\nCountDownComponent.prototype._countDownService;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import { Injectable } from '@angular/core';\n\nexport interface ICountdownOptions {\n  theme?: string;\n  format?: string;\n  onStart?: Function;\n  onComplete?: Function;\n}\n\nexport interface ICountdownData {\n  timeInterval: number;\n  theme: string;\n  format: string;\n  object: any;\n  onStart: Function;\n  onComplete: Function;\n}\nexport class CountDownService {\n\n  static THEMES: Array<string> = ['default', 'material', 'bootstrap'];\nprivate uniquecountdown: number = 0;\nprivate countDownOptions: ICountdownOptions;\nconstructor(){\n    this.countDownOptions = {\n      theme: \"default\",\n      format: \"hh : mm : ss\"\n    }\n  }\n/**\n * @param {?} options\n * @return {?}\n */\nsetCoundownOptions(options: ICountdownOptions) {\n    let /** @type {?} */ countdownOptions: ICountdownOptions;\n    countdownOptions = options;\n    countdownOptions = countdownOptions || {\n      theme: \"default\",\n      format: \"hh : mm : ss\"\n    };\n    let /** @type {?} */ theme: string;\n    if (countdownOptions.theme) {\n      theme = CountDownService.THEMES.indexOf(countdownOptions.theme) > -1 ? countdownOptions.theme : \"default\";\n    }else {\n      theme = \"default\";\n    }\n\n    let /** @type {?} */ format: string;\n    if (!countdownOptions.format) {\n      format = \"hh : mm : ss\"\n    }\n    else {\n      format = countdownOptions.format;\n    }\n    this.countDownOptions =  countdownOptions;\n  }\n/**\n * @return {?}\n */\ngetdefaultCountDownOptions(){\n    return this.countDownOptions;\n  }\n/**\n * @param {?} s\n * @param {?} f\n * @return {?}\n */\ndhms(s, f) { // seconds, format\n    var /** @type {?} */ d = 0;\n    var /** @type {?} */ h = 0;\n    var /** @type {?} */ m = 0;\n    switch (true) {\n      case (s > 86400):\n        d = Math.floor(s/86400);\n        s -= d * 86400;\n      case (s > 3600):\n        h = Math.floor(s / 3600);\n        s -= h * 3600;\n      case (s > 60):\n        m = Math.floor(s/60);\n        s -= m * 60;\n    }\n    if (f != null) {\n      var /** @type {?} */ f = f.replace('dd', (d < 10) ? \"0\" + d : d);\n      f = f.replace('d', d);\n      f = f.replace('hh', (h < 10) ? \"0\" + h : h);\n      f = f.replace('h', h);\n      f = f.replace('mm', (m < 10) ? \"0\" + m : m);\n      f = f.replace('m', m);\n      f = f.replace('ss', (s < 10) ? \"0\" + s : s);\n      f = f.replace('s', s);\n    }\n    else {\n      f = d + ':' + h + ':' + m + ':' + s;\n    }\n    return f; // :) omg...\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction CountDownService_tsickle_Closure_declarations() {\n/** @type {?} */\nCountDownService.THEMES;\n/** @type {?} */\nCountDownService.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nCountDownService.ctorParameters;\n/** @type {?} */\nCountDownService.prototype.uniquecountdown;\n/** @type {?} */\nCountDownService.prototype.countDownOptions;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"],"names":["CommonModule","NgModule","Input","Output","Component","EventEmitter","Injectable"],"mappings":";;;;;;AEiBA,IAAA,gBAAA,IAAA,YAAA;IAKA,SAAA,gBAAA,GAAA;QAAU,IAAV,CAAA,eAAU,GAA0B,CAAA,CAAE;QAClC,IAAI,CAAC,gBAAgB,GAAG;YACtB,KAAK,EAAE,SAAS;YAChB,MAAM,EAAE,cAAc;SACvB,CAAA;KACF;;;;;IAKH,gBAAA,CAAA,SAAA,CAAA,kBADG,GACH,UADG,OAAA,EACH;QACI,qBADI,gBAAkB,CAAkB;QAExC,gBAAgB,GADG,OAAA,CAAQ;QAE3B,gBAAgB,GADG,gBAAA,IAAoB;YAErC,KAAK,EADE,SAAA;YAEP,MAAM,EADE,cAAA;SAET,CADC;QAEF,qBADI,KAAO,CAAO;QAElB,IAAI,gBADC,CAAgB,KAAC,EAAM;YAE1B,KAAK,GADG,gBAAA,CAAiB,MAAC,CAAM,OAAC,CAAO,gBAAC,CAAgB,KAAC,CAAK,GAAG,CAAA,CAAE,GAAG,gBAAA,CAAiB,KAAC,GAAO,SAAA,CAAU;SAE3G;aADK;YAEJ,KAAK,GADG,SAAA,CAAU;SAEnB;QAED,IAOI,CADC,gBAAC,GAAkB,gBAAA,CAAkB;KAE3C,CAAH;;;;IAIA,gBAAA,CAAA,SAAA,CAAA,0BAHG,GAGH,YAAA;QACI,OAHO,IAAA,CAAK,gBAAC,CAAgB;KAI9B,CAAH;;;;;;IAMA,gBAAA,CAAA,SAAA,CAAA,IAPG,GAOH,UAPG,CAAA,EAAA,CAAA,EAOH;QACI,qBAPI,CAAA,GAAI,CAAA,CAAE;QAQV,qBAPI,CAAA,GAAI,CAAA,CAAE;QAQV,qBAPI,CAAA,GAAI,CAAA,CAAE;QAQV,QAAQ,IAPC;YAQP,MAPK,CAAE,GAAG,KAAA;gBAQR,CAAC,GAPG,IAAA,CAAK,KAAC,CAAK,CAAC,GAAC,KAAC,CAAK,CAAC;gBAQxB,CAAC,IAPI,CAAA,GAAI,KAAA,CAAM;YAQjB,MAPK,CAAE,GAAG,IAAA;gBAQR,CAAC,GAPG,IAAA,CAAK,KAAC,CAAK,CAAC,GAAG,IAAA,CAAK,CAAC;gBAQzB,CAAC,IAPI,CAAA,GAAI,IAAA,CAAK;YAQhB,MAPK,CAAE,GAAG,EAAA;gBAQR,CAAC,GAPG,IAAA,CAAK,KAAC,CAAK,CAAC,GAAC,EAAC,CAAE,CAAC;gBAQrB,CAAC,IAPI,CAAA,GAAI,EAAA,CAAG;SAQf;QACD,IAAI,CAPC,IAAI,IAAA,EAAM;YAQb,qBAPI,CAAA,GAAI,CAAA,CAAE,OAAC,CAAO,IAAC,EAAK,CAAA,CAAE,GAAG,EAAA,IAAM,GAAA,GAAM,CAAA,GAAI,CAAA,CAAE,CAAC;YAQhD,CAAC,GAPG,CAAA,CAAE,OAAC,CAAO,GAAC,EAAI,CAAA,CAAE,CAAC;YAQtB,CAAC,GAPG,CAAA,CAAE,OAAC,CAAO,IAAC,EAAK,CAAA,CAAE,GAAG,EAAA,IAAM,GAAA,GAAM,CAAA,GAAI,CAAA,CAAE,CAAC;YAQ5C,CAAC,GAPG,CAAA,CAAE,OAAC,CAAO,GAAC,EAAI,CAAA,CAAE,CAAC;YAQtB,CAAC,GAPG,CAAA,CAAE,OAAC,CAAO,IAAC,EAAK,CAAA,CAAE,GAAG,EAAA,IAAM,GAAA,GAAM,CAAA,GAAI,CAAA,CAAE,CAAC;YAQ5C,CAAC,GAPG,CAAA,CAAE,OAAC,CAAO,GAAC,EAAI,CAAA,CAAE,CAAC;YAQtB,CAAC,GAPG,CAAA,CAAE,OAAC,CAAO,IAAC,EAAK,CAAA,CAAE,GAAG,EAAA,IAAM,GAAA,GAAM,CAAA,GAAI,CAAA,CAAE,CAAC;YAQ5C,CAAC,GAPG,CAAA,CAAE,OAAC,CAAO,GAAC,EAAI,CAAA,CAAE,CAAC;SAQvB;aANI;YAQH,CAAC,GAPG,CAAA,GAAI,GAAA,GAAM,CAAA,GAAI,GAAA,GAAM,CAAA,GAAI,GAAA,GAAM,CAAA,CAAE;SAQrC;QACD,OAPO,CAAA,CAAE;KAEX,CAAF;;CAxEA,EAAA,CAAA,CAAA;AAIS,gBAAT,CAAA,MAAS,GAAwB,CAAA,SAAE,EAAU,UAAA,EAAY,WAAA,CAAY,CAAC;AAoE/D,gBAAP,CAAA,UAAO,GAAoC;IAQ3C,EAPE,IAAA,EAAMM,eAAA,EAAW;CAQlB,CAPC;;;;AAED,gBAAD,CAAA,cAAC,GAAA,YAAD,EAAC,OAAA,EAUA,CAVD,EAUC,CAAC;ADrGF,IAAA,kBAAA,IAAA,YAAA;;;;IAeA,SAAA,kBAAA,CAAsB,iBAAmB,EAAzC;QAAsB,IAAtB,CAAA,iBAAsB,GAAA,iBAAA,CAAmB;QAP/B,IAAV,CAAA,IAAU,GAAe,KAAA,CAAM;QAA5B,IAAH,CAAA,OAAU,GAEG,IAAID,iBAAA,EAAoB,CAAG;QADrC,IAAH,CAAA,UAAa,GAEG,IAAIA,iBAAA,EAAoB,CAAG;KAIe;;;;IAI1D,kBAAA,CAAA,SAAA,CAAA,QAHG,GAGH,YAAA;QACI,IAAI,CAHC,cAAC,EAAc,CAAE;KAIvB,CAAH;;;;;IAKA,kBAAA,CAAA,SAAA,CAAA,UAPG,GAOH,UAPG,IAAA,EAOH;QACI,OAPO,OAAO,IAAA,KAAS,UAAA,CAAW;KAQnC,CAAH;;;;IAIA,kBAAA,CAAA,SAAA,CAAA,cAVG,GAUH,YAAA;QACI,qBAVI,gBAAkB,CAAkB;QAWxC,gBAAgB,GAVG,IAAA,CAAK,iBAAC,CAAiB,0BAAC,EAA0B,CAAE;QAWvE,IAAI,CAVC,SAAC,GAAW;YAWf,YAAY,EAVE,IAAA,CAAK,IAAC;YAWpB,MAAM,EAVE,IAAA,CAAS,MAAC;YAWlB,MAAM,EAVE,IAAA,CAAS,YAAC,IAAe,gBAAA,CAAiB,MAAC;YAWnD,KAAK,EAVE,gBAAA,CAAsB,KAAC,GAAO,kBAAA;YAWrC,OAAO,EAVE,gBAAA,CAAoB,OAAC,IAAU,IAAA,CAAK,UAAC,CAAU,gBAAC,CAAgB,OAAC,CAAO,GAAG,gBAAA,CAAiB,OAAC,GAAS,IAAA;YAW/G,UAAU,EAVE,gBAAA,CAAiB,UAAC,IAAa,IAAA,CAAK,UAAC,CAAU,gBAAC,CAAgB,UAAC,CAAU,GAAG,gBAAA,CAAiB,UAAC,GAAY,IAAA;SAWzH,CAVC;QAWF,IAAI,CAVC,OAAC,CAAO,IAAC,CAAI,IAAC,CAAI,SAAC,CAAS,IAAC,CAAI,SAAC,CAAS,CAAC,CAAC;QAWlD,IAAI,gBAVC,CAAgB,OAAC,IAAU,IAAA,CAAK,UAAC,CAAU,gBAAC,CAAgB,OAAC,CAAO,EAAE;YAWzE,gBAAgB,CAVC,OAAC,CAAO,IAAC,CAAI,IAAC,EAAK,IAAA,CAAK,SAAC,CAAS,CAAC;SAWrD;QACD,IAAI,CAVC,UAAC,GAAY,IAAA,CAAK,SAAC,CAAS,YAAC,CAAY;QAW9C,qBAVI,IAAA,GAAO,IAAA,CAAK;QAWhB,IAAI,CAVC,KAAC,GAAO,WAAA,CAAY,YAU7B;YACM,IAAI,IAVC,CAAI,UAAC,IAAa,CAAA,EAAG;gBAWxB,IAAI,gBAVC,CAAgB,UAAC,IAAa,IAAA,CAAK,UAAC,CAAU,gBAAC,CAAgB,UAAC,CAAU,EAAE;oBAW/E,gBAAgB,CAVC,UAAC,CAAU,IAAC,CAAI,IAAC,EAAK,IAAA,CAAK,SAAC,CAAS,CAAC;iBAWxD;gBACD,IAAI,CAVC,UAAC,CAAU,IAAC,CAAI,IAAC,CAAI,SAAC,CAAS,QAAC,EAAQ,CAAE,CAAC;gBAWhD,aAAa,CAVC,IAAC,CAAI,KAAC,CAAK,CAAC;aAW3B;iBATI;gBAWH,IAAI,CAVC,UAAC,GAAY,IAAA,CAAK,UAAC,GAAY,CAAA,CAAE;gBAWtC,IAAI,CAVC,IAAC,GAAM,IAAA,CAAK,iBAAC,CAAiB,IAAC,CAAI,IAAC,CAAI,UAAC,EAAW,IAAA,CAAK,SAAC,CAAS,MAAC,CAAM,CAAC;aAWjF;SACF,EAVE,IAAA,CAAK,CAAA;KAWT,CAAH;;CA9DA,EAAA,CAAA,CAAA;AAsDO,kBAAP,CAAA,UAAO,GAAoC;IAW3C,EAVE,IAAA,EAAMD,cAAA,EAAW,IAAA,EAAM,CAAA;gBAWvB,QAAQ,EAVE,gBAAA;gBAWV,QAAQ,EAVE,kIAcT;gBACD,MAAM,EAVE,CAAA,8xBAwCP,CAVC;aAWH,EAVC,EAAG;CAWJ,CAVC;;;;AAED,kBAAD,CAAA,cAAC,GAAA,YAAD,EAAC,OAAA;IAaD,EAAC,IAAI,EAAE,gBAAgB,GAAG;CACzB,CAAD,EAAC,CAAC;AAXK,kBAAP,CAAA,cAAO,GAAyD;IAahE,MAAM,EAZE,CAAA,EAAG,IAAA,EAAMF,UAAA,EAAM,EAAE;IAazB,SAAS,EAZE,CAAA,EAAG,IAAA,EAAMC,WAAA,EAAO,EAAE;IAa7B,YAAY,EAZE,CAAA,EAAG,IAAA,EAAMA,WAAA,EAAO,EAAE;IAahC,QAAQ,EAZE,CAAA,EAAG,IAAA,EAAMD,UAAA,EAAM,EAAE;IAa3B,cAAc,EAZE,CAAA,EAAG,IAAA,EAAMA,UAAA,EAAM,EAAE;CAahC,CAZC;ADvGF,IAAA,eAAA,IAAA,YAAA;IAAA,SAAA,eAAA,GAAA;;;CAAA,EAAA,CAAA,CAAA;AAEsC,eAAtC,CAAA,UAAsC,GAAoC;IAD1E,EAEE,IAAA,EAAMD,aAAA,EAAU,IAAA,EAAM,CAAA;gBADtB,OAAO,EAEE;oBADPD,mBAAY;iBACb;gBACD,YAAY,EAEE,CAAA,kBAAE,CAAkB;gBADlC,OAAO,EAEE;oBADP,kBAAkB;iBACnB;gBACD,SAAS,EAEE,CAAA,gBAAE,CAAgB;aAD9B,EAEC,EAAG;CADJ,CAEC;;;;AAED,eAAD,CAAA,cAAC,GAAA,YAAD,EAAC,OAAA,EACA,CADD,EACC,CAAC;;;;;;;;;;;;;;"}