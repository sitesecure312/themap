{"version":3,"file":"ngx-countdown.js","sources":["ts/ngx-countdown.ts","ts/src/app/modules/count-down/count-down.module.ts","ts/src/app/modules/count-down/count-down.component.ts","ts/src/app/modules/services/count-down.service.ts"],"sourcesContent":["/**\n * Generated bundle index. Do not edit.\n */\n\nexport {CountDownModule} from './public_api';\n\nexport {CountDownComponent as ɵa} from './src/app/modules/count-down/count-down.component';\nexport {CountDownService as ɵb} from './src/app/modules/services/count-down.service';","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { CountDownComponent } from './count-down.component';\nimport { CountDownService } from '../services/count-down.service';\nexport class CountDownModule { static decorators: DecoratorInvocation[] = [\n{ type: NgModule, args: [{\n  imports: [\n    CommonModule\n  ],\n  declarations: [CountDownComponent],\n  exports: [\n    CountDownComponent\n  ],\n  providers: [CountDownService]\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction CountDownModule_tsickle_Closure_declarations() {\n/** @type {?} */\nCountDownModule.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nCountDownModule.ctorParameters;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import { Component, OnInit , Input, Output, EventEmitter} from '@angular/core';\nimport { CountDownService, ICountdownOptions, ICountdownData } from '../services/count-down.service';\nexport class CountDownComponent implements OnInit {\nprivate format: string;\nprivate finishTime: number;\nprivate timer: any;\nprivate theme: string;\npublic countdown: ICountdownData;\npublic date: string = \" - \";\n   time: number;\n   onStart = new EventEmitter<string>();\n   onComplete = new EventEmitter<string>();\n   object: any;\n\t singleFormat: string;\n   selectedtheme: string = \"default\";\n/**\n * @param {?} _countDownService\n */\nconstructor(private _countDownService: CountDownService) {}\n/**\n * @return {?}\n */\nngOnInit() {\n    this.startCountDown();\n  }\n/**\n * @param {?} data\n * @return {?}\n */\nisFunction(data: any) {\n    return typeof data === \"function\";\n  }\n/**\n * @return {?}\n */\nstartCountDown() {\n    let /** @type {?} */ countdownOptions: ICountdownOptions;\n    countdownOptions = this._countDownService.getdefaultCountDownOptions();\n    this.countdown = {\n      timeInterval: this.time,\n      object:     this.object,\n      format:     this.singleFormat || countdownOptions.format,\n      theme:      this.selectedtheme + '-countdown-timer' || countdownOptions.theme + '-countdown-timer',\n      onStart:    countdownOptions.onStart && this.isFunction(countdownOptions.onStart) ? countdownOptions.onStart : null,\n      onComplete: countdownOptions.onComplete && this.isFunction(countdownOptions.onComplete) ? countdownOptions.onComplete : null\n    };\n    this.onStart.emit(JSON.stringify(this.countdown));\n    if (countdownOptions.onStart && this.isFunction(countdownOptions.onStart)) {\n      countdownOptions.onStart.call(this, this.countdown);\n    }\n    this.finishTime = this.countdown.timeInterval;\n    var /** @type {?} */ that = this;\n    this.timer = setInterval(function() {\n      if (that.finishTime == 0) {\n        if (countdownOptions.onComplete && that.isFunction(countdownOptions.onComplete)) {\n          countdownOptions.onComplete.call(that, that.countdown);\n        }\n        that.onComplete.emit(that.countdown.toString());\n        clearInterval(that.timer);\n      }\n      else {\n        that.finishTime = that.finishTime - 1;\n        that.date = that._countDownService.dhms(that.finishTime, that.countdown.format);\n      }\n    }, 1000)\n  }\n\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  selector: 'app-count-down',\n  template: `\n    <div [ngClass]=\"countdown.theme\">   <!--countdown.theme -->\n      <span class=\"timer\">{{date}}</span>\n    </div>\n  `,\n  styles: [`\n    .default-countdown-timer{\n      border: 1px solid #ddd;\n      color: #3c763d;\n      background-color: transparent;\n      padding: 10px 15px;\n      margin-bottom: 20px;\n      border-radius: 4px;\n      display: inline-block;\n    }\n    .bootstrap-countdown-timer {\n      color: #3c763d;\n      background-color: #dff0d8;\n      border-color: #d6e9c6;\n      padding: 10px 15px;\n      margin-bottom: 20px;\n      border: 1px solid #d6e9c6;\n      border-radius: 4px;\n      display: inline-block;\n    }\n    .material-countdown-timer{\n      color: #3c763d;\n      background-color: #dff0d8;\n      border-color: #d6e9c6;\n      padding: 10px 15px;\n      margin-bottom: 20px;\n      border: 1px solid transparent;\n      border-radius: 0px;\n      display: inline-block;\n    }\n  `]\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: CountDownService, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'time': [{ type: Input },],\n'onStart': [{ type: Output },],\n'onComplete': [{ type: Output },],\n'object': [{ type: Input },],\n'singleFormat': [{ type: Input },],\n'selectedtheme': [{ type: Input },],\n};\n}\n\nfunction CountDownComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nCountDownComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nCountDownComponent.ctorParameters;\n/** @type {?} */\nCountDownComponent.propDecorators;\n/** @type {?} */\nCountDownComponent.prototype.format;\n/** @type {?} */\nCountDownComponent.prototype.finishTime;\n/** @type {?} */\nCountDownComponent.prototype.timer;\n/** @type {?} */\nCountDownComponent.prototype.theme;\n/** @type {?} */\nCountDownComponent.prototype.countdown;\n/** @type {?} */\nCountDownComponent.prototype.date;\n/** @type {?} */\nCountDownComponent.prototype.time;\n/** @type {?} */\nCountDownComponent.prototype.onStart;\n/** @type {?} */\nCountDownComponent.prototype.onComplete;\n/** @type {?} */\nCountDownComponent.prototype.object;\n/** @type {?} */\nCountDownComponent.prototype.singleFormat;\n/** @type {?} */\nCountDownComponent.prototype.selectedtheme;\n/** @type {?} */\nCountDownComponent.prototype._countDownService;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import { Injectable } from '@angular/core';\n\nexport interface ICountdownOptions {\n  theme?: string;\n  format?: string;\n  onStart?: Function;\n  onComplete?: Function;\n}\n\nexport interface ICountdownData {\n  timeInterval: number;\n  theme: string;\n  format: string;\n  object: any;\n  onStart: Function;\n  onComplete: Function;\n}\nexport class CountDownService {\n\n  static THEMES: Array<string> = ['default', 'material', 'bootstrap'];\nprivate uniquecountdown: number = 0;\nprivate countDownOptions: ICountdownOptions;\nconstructor(){\n    this.countDownOptions = {\n      theme: \"default\",\n      format: \"hh : mm : ss\"\n    }\n  }\n/**\n * @param {?} options\n * @return {?}\n */\nsetCoundownOptions(options: ICountdownOptions) {\n    let /** @type {?} */ countdownOptions: ICountdownOptions;\n    countdownOptions = options;\n    countdownOptions = countdownOptions || {\n      theme: \"default\",\n      format: \"hh : mm : ss\"\n    };\n    let /** @type {?} */ theme: string;\n    if (countdownOptions.theme) {\n      theme = CountDownService.THEMES.indexOf(countdownOptions.theme) > -1 ? countdownOptions.theme : \"default\";\n    }else {\n      theme = \"default\";\n    }\n\n    let /** @type {?} */ format: string;\n    if (!countdownOptions.format) {\n      format = \"hh : mm : ss\"\n    }\n    else {\n      format = countdownOptions.format;\n    }\n    this.countDownOptions =  countdownOptions;\n  }\n/**\n * @return {?}\n */\ngetdefaultCountDownOptions(){\n    return this.countDownOptions;\n  }\n/**\n * @param {?} s\n * @param {?} f\n * @return {?}\n */\ndhms(s, f) { // seconds, format\n    var /** @type {?} */ d = 0;\n    var /** @type {?} */ h = 0;\n    var /** @type {?} */ m = 0;\n    switch (true) {\n      case (s > 86400):\n        d = Math.floor(s/86400);\n        s -= d * 86400;\n      case (s > 3600):\n        h = Math.floor(s / 3600);\n        s -= h * 3600;\n      case (s > 60):\n        m = Math.floor(s/60);\n        s -= m * 60;\n    }\n    if (f != null) {\n      var /** @type {?} */ f = f.replace('dd', (d < 10) ? \"0\" + d : d);\n      f = f.replace('d', d);\n      f = f.replace('hh', (h < 10) ? \"0\" + h : h);\n      f = f.replace('h', h);\n      f = f.replace('mm', (m < 10) ? \"0\" + m : m);\n      f = f.replace('m', m);\n      f = f.replace('ss', (s < 10) ? \"0\" + s : s);\n      f = f.replace('s', s);\n    }\n    else {\n      f = d + ':' + h + ':' + m + ':' + s;\n    }\n    return f; // :) omg...\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction CountDownService_tsickle_Closure_declarations() {\n/** @type {?} */\nCountDownService.THEMES;\n/** @type {?} */\nCountDownService.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nCountDownService.ctorParameters;\n/** @type {?} */\nCountDownService.prototype.uniquecountdown;\n/** @type {?} */\nCountDownService.prototype.countDownOptions;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"],"names":[],"mappings":"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"}
